<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minigame</title>

<style>
  body {
    margin: 0;
    padding: 0;
    height: 100vh;
    font-family: 'Kanit', sans-serif;
    display: flex;
    justify-content: center;
    /* ‡∏à‡∏±‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô */
    align-items: center;
    /* ‡∏à‡∏±‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
    background-color: rgb(117, 160, 128);
    position: relative;
    /* ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ .dice ‡∏ó‡∏µ‡πà absolute ‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô body */
}

.image {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    /* ‡∏•‡∏ö margin ‡∏ã‡πâ‡∏≤‡∏¢-‡∏Ç‡∏ß‡∏≤ ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ */
    margin: 0;
}

.image img {
    border-radius: 5px;
    width: 30px;
    height: 30px;
    /* ‡∏•‡∏ö margin ‡∏ã‡πâ‡∏≤‡∏¢-‡∏Ç‡∏ß‡∏≤ */
    margin: 0 auto 20px auto;
    /* ‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô + margin bottom */
    display: block;
    /* ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ margin auto ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô */
}

.buttonrandom {
    cursor: pointer;
    color: #ffff;
}

.buttonrandom:hover {
    color: #ffffff8e;
}


.background {
    position: absolute;
    /* ‡πÄ‡∏û‡∏¥‡πà‡∏° */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: rgba(0, 0, 0, 0.681);
    width: 35vh;
    height: 45vh;
    border-radius: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 1;
    /* ‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô */
    transition: opacity 0.4s ease, visibility 0.4s ease;
}


.hidden {
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.5s ease, visibility 0.5s ease;
}

.visible {
    opacity: 1;
    visibility: visible;
}

/* ‡∏õ‡∏£‡∏±‡∏ö .dice ‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏à‡∏≠ */
.dice {
    position: fixed;
    /* ‡∏•‡∏≠‡∏¢‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å layout ‡∏õ‡∏Å‡∏ï‡∏¥ */
    left: 100px;
    /* ‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏Ç‡∏≠‡∏ö‡∏ã‡πâ‡∏≤‡∏¢ 30px */
    top: 39%;
    /* ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≠‡πÉ‡∏ô‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
    transform: translateY(-50%);
    /* ‡∏î‡∏∂‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
    cursor: pointer;
     border: 2px solid #333;
    background-color: rgba(165, 42, 42, 0.838);
    display: flex;
    justify-content: flex-start;
    padding: 25px 25px;
    border-radius: 5px;
    color: rgb(0, 0, 0);
}

.dice p {
    font-size: 12px;
    margin: 0;
}

.dice:hover {
    color: rgb(0, 0, 0);
    background-color: rgba(165, 42, 42, 0.768);
}

.board {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    /* 7 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå */
    gap: 10px;
    padding: 20px;
    max-width: 600px;
    margin: 40px auto;
    font-family: 'Kanit', sans-serif;
}

.cell {
    background-color: #ffffffaa;
    border: 2px solid #282525;
    padding: 20px;
    text-align: center;
    border-radius: 8px;
    font-weight: bold;
    color: #333;
}

.control {
    position: fixed;
    bottom: 50px;
    /* ‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏Ç‡∏≠‡∏ö‡∏•‡πà‡∏≤‡∏á 20px */
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    border: 2px solid #333;
    background-color: rgba(255, 255, 255, 0.9);
    /* ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏î‡πà‡∏ô */
    padding: 10px 20px;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    z-index: 999;
}


.control input {
    padding: 5px 10px;
    font-size: 16px;
    width: 200px;
    border: 2px solid #333;
    margin-right: 10px;
    border-radius: 5px;
}

.control button {
    padding: 5px 15px;
    font-size: 16px;
    border: 2px solid #333;
    background-color: #28a745;
    color: rgb(0, 0, 0);
    margin-top: 10px;
    border-radius: 5px;
    cursor: pointer;
}

 .control button:hover {
        color: #000000d6;
        background-color: #28a746f5;
        transform: scale(0.9);
    }

.player {
    width: 20px;
    height: 20px;
    background-color: red;
    border-radius: 50%;
    margin: 5px auto 0 auto;
}

.math-question {
    position: absolute;
    top: 20px;
    right: 20px;
    width: 300px;
    background-color: #fff;
    border: 2px solid #333;
    padding: 15px;
    border-radius: 10px;
    font-family: 'Kanit', sans-serif;
    color: #000;
    z-index: 10;
}

.math-question input {
    width: 50%;
    padding: 8px;
    margin-top: 10px;
    font-size: 16px;
    border-radius: 5px;
    border: 1px solid #999;
}

.math-question button {
    margin-top: 10px;
    padding: 8px 12px;
    font-size: 16px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

.math-question button:hover{
    color: white;
    background-color:#007bffc4;
    transform: scale(0.9);
}

#answerResultText {
    margin-top: 10px;
    font-weight: bold;
}

#winMessageContainer {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        border: 2px solid #333;
        width: 30vh;
        height: 30vh;
        background-color: rgba(255, 255, 255, 0.9);
        padding: 20px;
        font-size: 16px;
        display: none;
        /* ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ */
        justify-content: center;
        align-items: center;
        text-align: center;
        flex-direction: column;
        cursor: pointer;
        border-radius: 10px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
        z-index: 999;
    }

    #winMessageContainer p:hover {
        color: #000000c8;
        transform: scale(0.9);
    }


@media (max-width: 600px) {
    .board {
        grid-template-columns: repeat(4, 1fr);
        /* ‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÄ‡∏•‡πá‡∏Å‡∏•‡∏á */
        gap: 5px;
        padding: 10px;
    }

    .cell {
        padding: 10px;
        font-size: 14px;
    }

    .control {
        position: fixed;
        border: 2px solid #333;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 90%;
        height: 10%;
        text-align: center;
        background-color: rgba(255, 255, 255, 0.9);
        padding: 8px 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        z-index: 1000;
    }

    .control input {
        font-size: 14px;
        padding: 5px 10px;
        width: 100px;
        margin-right: 8px;
        border: 2px solid #333;
    }

    .control button {
        font-size: 14px;
        padding: 5px 10px;
        border: 2px solid #333;
        color: #000;
    }

    .control button:hover {
        color: #000000c0;
        background-color: #28a7469f;
        transform: scale(0.9);
    }

    .dice {
        position: fixed;
        top: 17.5%;
        /* ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ï‡πâ .control ‡∏ó‡∏µ‡πà‡∏™‡∏π‡∏á ~50px + padding */
        left: 20px;
        padding: 10px;
        border: 2px solid #333;
        background-color: rgba(165, 42, 42, 0.838);
        display: flex;
        justify-content: flex-start;
        border-radius: 5px;
        color: rgb(0, 0, 0);
        z-index: 999;
        /* ‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô */
    }

    .dice p {
        font-size: 10px;
        margin: 0;
    }

    #winMessageContainer {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border: 2px solid #333;
    width: 30vh;
    height: 30vh;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 20px;
    font-size: 16px;
    display: none; /* ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ */
    justify-content: center;
    align-items: center;
    text-align: center;
    flex-direction: column;
    cursor: pointer;
    border-radius: 10px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
    z-index: 999;
}

#winMessageContainer p:hover{
    color: #000000c8;
    transform: scale(0.9);
}


    .math-question {
        position: absolute;
        bottom: 10px;
        /* ‡∏≠‡∏¢‡∏π‡πà‡∏ä‡∏¥‡∏î‡∏•‡πà‡∏≤‡∏á */
        left: 5%;
        right: 5%;
        top: 80%;
        width: 84%;
        height: 30%;
        /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà responsive */
        padding: 10px;
        font-size: 14px;
        background-color: #fff;
        border: 2px solid #333;
        border-radius: 10px;
        z-index: 1000;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }

    .math-question input {
        width: 100%;
        font-size: 14px;
        padding: 6px;
        margin-top: 10px;
        box-sizing: border-box;
    }

    .math-question button {
        width: 100%;
        font-size: 14px;
        padding: 6px;
        margin-top: 10px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    .background {
        position: fixed;
    }
}
</style>
  
    <link href="https://fonts.googleapis.com/css2?family=Kanit&display=swap" rel="stylesheet">

</head>

<body>
    <div class="background hidden" id="background">
        <div class="image" id="imageContainer"></div>

        <div class="buttonrandom" id="randomBtn">
            <p>‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡πà‡∏°</p>
        </div>

        <!-- ‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô ‡πÅ‡∏ï‡πà‡πÉ‡∏ä‡πâ‡∏î‡∏∂‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå -->
        <div id="imageLinks" style="display: none;">
            <a href="1.png"></a>
            <a href="2.png"></a>
            <a href="3.png"></a>
            <a href="4.png"></a>
            <a href="5.png"></a>
            <a href="6.png"></a>
        </div>
    </div>

    <div class="dice">
        <p>‡∏•‡∏π‡∏Å‡πÄ‡∏ï‡πã‡∏≤</p>
    </div>

    <div class="board">
        <div class="cell">‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°<div class="player"></div>
        </div>
        <!-- ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà 2‚Äì27 -->
        <div class="cell">2</div>
        <div class="cell">3</div>
        <div class="cell">4</div>
        <div class="cell">5</div>
        <div class="cell">6</div>
        <div class="cell">7</div>
        <div class="cell">8</div>
        <div class="cell">9</div>
        <div class="cell">10</div>
        <div class="cell">11</div>
        <div class="cell">12</div>
        <div class="cell">13</div>
        <div class="cell">14</div>
        <div class="cell">15</div>
        <div class="cell">16</div>
        <div class="cell">17</div>
        <div class="cell">18</div>
        <div class="cell">19</div>
        <div class="cell">20</div>
        <div class="cell">21</div>
        <div class="cell">22</div>
        <div class="cell">23</div>
        <div class="cell">24</div>
        <div class="cell">25</div>
        <div class="cell">26</div>
        <div class="cell">27</div>
        <div class="cell">‡∏à‡∏∏‡∏î‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</div>
    </div>

    <div class="control">
        <input type="number" id="moveInput" min="1" max="6" placeholder="‡∏õ‡πâ‡∏≠‡∏ô‡πÄ‡∏•‡∏Ç 1-6">
        <button onclick="movePlayer()">‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏ô‡πâ‡∏≤</button>
    </div>

    <div class="math-question" id="mathQuestionBox">
        <h3>‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</h3>
        <p id="mathQuestionText">-</p>
        <input type="text" id="answerInput" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö..." />
        <button id="submitAnswerBtn">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
        <p id="answerResultText"></p>
    </div>

    <div id="winMessageContainer">
        <h2>‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏ô‡∏∞‡πÄ‡∏Å‡∏°‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß!</h2>
        <p id="restartBtn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</p>
    </div>

      <div class="protect" id="protectionNotice" style="display: none;">
        üö´ ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á: <span id="protectionCount">1</span> ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
    </div>

     <audio id="diceSound" src="dice-roll.mp3" preload="auto"></audio>
    
  <script>// ‡πÇ‡∏Ñ‡πâ‡∏î JavaScript ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß
// ‡πÇ‡∏Ñ‡πâ‡∏î JavaScript ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß

const links = document.querySelectorAll('#imageLinks a');
const imageContainer = document.getElementById('imageContainer');
const randomBtn = document.getElementById('randomBtn');

// ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ó‡∏≠‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏ï‡πã‡∏≤
const diceSound = new Audio('dice-roll.mp3');
diceSound.preload = 'auto';

let intervalId = null;
let lastIndex = 0;

let numberDisplay = document.createElement('div');
numberDisplay.style.fontSize = '1.5rem';
numberDisplay.style.marginBottom = '40px';
numberDisplay.style.fontWeight = 'bold';
numberDisplay.style.color = '#fff';
numberDisplay.textContent = '';
imageContainer.appendChild(numberDisplay);

function showRandomImage() {
    const randomIndex = Math.floor(Math.random() * links.length);
    lastIndex = randomIndex;
    const randomImgSrc = links[randomIndex].getAttribute('href');

    imageContainer.innerHTML = '';
    imageContainer.appendChild(numberDisplay);

    const img = document.createElement('img');
    img.src = randomImgSrc;
    imageContainer.appendChild(img);
}

randomBtn.addEventListener('click', () => {
    if (intervalId !== null) return;

    numberDisplay.textContent = '';

    // ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á
    diceSound.currentTime = 0;
    diceSound.loop = true;
    diceSound.play();

    intervalId = setInterval(showRandomImage, 100);

    setTimeout(() => {
        clearInterval(intervalId);
        intervalId = null;

        // ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á
        diceSound.pause();
        diceSound.currentTime = 0;

        numberDisplay.textContent = `‡∏•‡∏π‡∏Å‡πÄ‡∏ï‡πã‡∏≤ : ${lastIndex + 1}`;
        imageContainer.innerHTML = '';
        imageContainer.appendChild(numberDisplay);

        const img = document.createElement('img');
        img.src = links[lastIndex].getAttribute('href');
        imageContainer.appendChild(img);
    }, 4790);
});

const dice = document.querySelector('.dice');
const background = document.getElementById('background');

dice.addEventListener('click', () => {
    background.classList.toggle('hidden');
});

let currentPosition = 0;

function movePlayer() {
    const input = document.getElementById('moveInput');
    let moveSteps = parseInt(input.value);

    if (isNaN(moveSteps) || moveSteps < 1 || moveSteps > 6) {
        alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 1 ‡∏ñ‡∏∂‡∏á 6');
        return;
    }

    const cells = document.querySelectorAll('.cell');
    document.querySelectorAll('.player').forEach(p => p.remove());

    let newPosition = currentPosition + moveSteps;

    if (newPosition > 27) {
        const exceed = newPosition - 27;
        newPosition = 27 - exceed;
        alert(`‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏•‡∏π‡∏Å‡πÄ‡∏ï‡πã‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ñ‡∏≠‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏Å‡∏¥‡∏ô 28 ‡∏ä‡πà‡∏≠‡∏á ‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á‡∏°‡∏≤ ${exceed} ‡∏ä‡πà‡∏≠‡∏á`);
    }

    currentPosition = newPosition;

    const newPlayer = document.createElement('div');
    newPlayer.classList.add('player');
    cells[currentPosition].appendChild(newPlayer);

    if (currentPosition >= 1 && currentPosition <= 26) {
        showRandomMathQuestion();
    } else {
        clearMathQuestion();
    }

    if (currentPosition === 27) {
        document.getElementById('winMessageContainer').style.display = 'flex';
        clearMathQuestion();
    }

    input.value = '';
}

document.getElementById('moveInput').addEventListener('keydown', function (e) {
    if (e.key === 'Enter') {
        movePlayer();
    }
});

let currentQuestion = null;

const questions = [
    { question: '‡πÅ‡∏Å‡πâ‡∏™‡∏°‡∏Å‡∏≤‡∏£ 2x + 3 = 7', answer: '2' },
    { question: '‡∏´‡∏≤‡∏Ñ‡πà‡∏≤ x: x¬≤ = 25', answer: '5‡∏´‡∏£‡∏∑‡∏≠-5' },
    { question: '‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°‡∏à‡∏±‡∏ï‡∏∏‡∏£‡∏±‡∏™ ‡∏î‡πâ‡∏≤‡∏ô = 4', answer: '16' },
    { question: '‡πÄ‡∏ã‡∏ï‡∏Ç‡∏≠‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ó‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ 10', answer: '2,3,5,7' },
    { question: '‡∏û‡∏´‡∏∏‡∏ô‡∏≤‡∏°: (x + 2)(x - 3) = ?', answer: 'x^2-x-6' },
    { question: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏™‡πâ‡∏ô‡∏ï‡∏£‡∏á y = 3x + 1', answer: '3' },
    { question: '‡∏à‡∏á‡∏´‡∏≤‡∏ú‡∏•‡∏£‡∏ß‡∏°: 1 + 2 + 3 + ... + 10', answer: '55' }
];

function showRandomMathQuestion() {
    const randomIndex = Math.floor(Math.random() * questions.length);
    currentQuestion = questions[randomIndex];
    document.getElementById('mathQuestionText').textContent = currentQuestion.question;
    document.getElementById('answerInput').value = '';
    document.getElementById('answerResultText').textContent = '';
}

function clearMathQuestion() {
    currentQuestion = null;
    document.getElementById('mathQuestionText').textContent = '-';
    document.getElementById('answerInput').value = '';
    document.getElementById('answerResultText').textContent = '';
}

// ============== ‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á =============
let protectionCount = 3;

// ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
const protectionNotice = document.createElement('div');
protectionNotice.id = 'protectionNotice';
protectionNotice.style.position = 'fixed';
protectionNotice.style.top = '20px';
protectionNotice.style.left = '50%';
protectionNotice.style.transform = 'translateX(-50%)';
protectionNotice.style.backgroundColor = '#ffc107';
protectionNotice.style.color = '#000';
protectionNotice.style.padding = '10px 20px';
protectionNotice.style.borderRadius = '8px';
protectionNotice.style.boxShadow = '0 2px 10px rgba(0,0,0,0.3)';
protectionNotice.style.fontFamily = 'Kanit, sans-serif';
protectionNotice.style.fontSize = '16px';
protectionNotice.style.display = 'none';
protectionNotice.style.zIndex = '9999';

document.body.appendChild(protectionNotice);

function showProtectionMessage(msg) {
    protectionNotice.textContent = msg;
    protectionNotice.style.display = 'block';
    setTimeout(() => {
        protectionNotice.style.display = 'none';
    }, 3000);
}

function checkAnswer() {
    const userAnswer = document.getElementById('answerInput').value.trim();
    const resultText = document.getElementById('answerResultText');
    const cells = document.querySelectorAll('.cell');

    if (!currentQuestion) {
        resultText.textContent = '‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏à‡∏ó‡∏¢‡πå‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏ß‡∏à';
        return;
    }

    if (userAnswer === '') {
        resultText.textContent = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö';
        return;
    }

    if (userAnswer === currentQuestion.answer) {
        resultText.textContent = '‚úÖ ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ó‡∏≠‡∏¢‡∏•‡∏π‡∏Å‡πÄ‡∏ï‡πã‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏õ‡∏ï‡πà‡∏≠';
        resultText.style.color = 'green';
    } else {
        resultText.textContent = '‚ùå ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î ‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á 1 ‡∏ä‡πà‡∏≠‡∏á';
        resultText.style.color = 'red';

        if (protectionCount > 0) {
            showProtectionMessage(`‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏µ‡∏Å ${--protectionCount} ‡∏Ñ‡∏£‡∏±‡πâ‡∏á`);
        } else {
            if (currentPosition > 0) {
                currentPosition -= 1;
                document.querySelectorAll('.player').forEach(p => p.remove());

                const newPlayer = document.createElement('div');
                newPlayer.classList.add('player');
                cells[currentPosition].appendChild(newPlayer);

                alert('‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô ‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á 1 ‡∏ä‡πà‡∏≠‡∏á');
            }
        }

        clearMathQuestion();
    }
}

document.getElementById('submitAnswerBtn').addEventListener('click', checkAnswer);
document.getElementById('answerInput').addEventListener('keydown', function (e) {
    if (e.key === 'Enter') checkAnswer();
});

document.getElementById('restartBtn').addEventListener('click', () => {
    const cells = document.querySelectorAll('.cell');
    document.querySelectorAll('.player').forEach(p => p.remove());

    currentPosition = 0;

    const newPlayer = document.createElement('div');
    newPlayer.classList.add('player');
    cells[currentPosition].appendChild(newPlayer);

    document.getElementById('winMessageContainer').style.display = 'none';
    clearMathQuestion();

    protectionCount = 3;
    showProtectionMessage(`‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà! ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏õ‡πá‡∏ô ${protectionCount}`);
});

</script>
  
    <script src="GameRandom.js"></script>
</body>

</html>
